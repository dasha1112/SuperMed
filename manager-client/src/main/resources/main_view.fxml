<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.paint.*?>
<?import javafx.scene.effect.*?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.supermed.ManagerController"
      spacing="15.0"
      style="-fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);">
    <HBox spacing="10.0" alignment="CENTER_LEFT" style="-fx-padding: 0 0 10 0;">
        <Label fx:id="userInfoLabel"
               text="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ: ÐÐµ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½"
               style="-fx-text-fill: #7f8c8d; -fx-font-weight: bold;"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="ðŸšª Ð’Ñ‹Ñ…Ð¾Ð´"
                onAction="#handleLogout"
                style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-padding: 5 10;"/>
    </HBox>
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>

    <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ñ Ð¸ÐºÐ¾Ð½ÐºÐ¾Ð¹ -->
    <HBox spacing="15.0" alignment="CENTER_LEFT">
        <Label text="ðŸ¥" style="-fx-font-size: 28px;"/>
        <VBox spacing="2.0">
            <Label text="SuperMed Manager"
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Label text="ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ð¼ ÑƒÑ‡Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸ÐµÐ¼"
                   style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;"/>
        </VBox>
    </HBox>

    <!-- ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð²ÐºÐ»Ð°Ð´ÐºÐ¸ -->
    <TabPane VBox.vgrow="ALWAYS"
             tabClosingPolicy="UNAVAILABLE"
             style="-fx-background-color: white; -fx-background-radius: 10; -fx-border-radius: 10;">

        <effect>
            <DropShadow radius="10.0" color="rgba(0,0,0,0.1)"/>
        </effect>

        <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ° ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ -->
        <Tab text="ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð²Ñ€Ð°Ñ‡ÐµÐ¹">
            <content>
                <VBox spacing="15.0" style="-fx-padding: 20;">
                    <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¾Ð¹ -->
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <Button fx:id="loadStatsBtn"
                                text="ðŸ“ˆ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ"
                                onAction="#loadStatistics"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-padding: 8 15;"/>
                        <Label fx:id="statsCount"
                               text="Ð’Ñ€Ð°Ñ‡ÐµÐ¹ Ð² ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐµ: 0"
                               style="-fx-text-fill: #7f8c8d; -fx-font-style: italic;"/>
                    </HBox>

                    <!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ -->
                    <TableView fx:id="statisticsTable" VBox.vgrow="ALWAYS"
                               style="-fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #bdc3c7;">
                        <columns>
                            <TableColumn fx:id="colDoctorName" text="ðŸ‘¨â€âš•ï¸ Ð’Ñ€Ð°Ñ‡" prefWidth="180"
                                         style="-fx-background-color: #ecf0f1; -fx-font-weight: bold;"/>
                            <TableColumn fx:id="colSpecialization" text="ðŸŽ¯ Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ" prefWidth="150"/>
                            <TableColumn fx:id="colBranch" text="ðŸ¢ Ð¤Ð¸Ð»Ð¸Ð°Ð»" prefWidth="150"/>
                            <TableColumn fx:id="colAppointmentCount" text="ðŸ“‹ ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹" prefWidth="150"/>
                        </columns>
                    </TableView>
                </VBox>
            </content>
        </Tab>

        <!-- Ð’ÐºÐ»Ð°Ð´ÐºÐ° Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ -->
        <Tab text="ðŸ“… Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼">
            <content>
                <VBox spacing="15.0" style="-fx-padding: 20;">
                    <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼ -->
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <Button fx:id="refreshScheduleBtn"
                                text="ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ"
                                onAction="#refreshSchedules"
                                style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-padding: 8 15;"/>
                        <Button fx:id="addScheduleBtn"
                                text="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð¿Ð¸ÑÑŒ"
                                onAction="#showAddScheduleDialog"
                                style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-padding: 8 15;"/>
                        <Label fx:id="scheduleCount"
                               text="Ð—Ð°Ð¿Ð¸ÑÐµÐ¹ Ð² Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ð¸: 0"
                               style="-fx-text-fill: #7f8c8d; -fx-font-style: italic;"/>
                    </HBox>

                    <!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ -->
                    <TableView fx:id="scheduleTable" VBox.vgrow="ALWAYS"
                               style="-fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #bdc3c7;">
                        <columns>
                            <TableColumn fx:id="colScheduleId" text="ID" prefWidth="50"
                                         style="-fx-background-color: #ecf0f1; -fx-font-weight: bold;"/>
                            <TableColumn fx:id="colScheduleDoctor" text="ðŸ‘¨â€âš•ï¸ Ð’Ñ€Ð°Ñ‡" prefWidth="180"/>
                            <TableColumn fx:id="colScheduleDay" text="ðŸ“… Ð”ÐµÐ½ÑŒ Ð½ÐµÐ´ÐµÐ»Ð¸" prefWidth="120"/>
                            <TableColumn fx:id="colScheduleStart" text="ðŸ• ÐÐ°Ñ‡Ð°Ð»Ð¾" prefWidth="100"/>
                            <TableColumn fx:id="colScheduleEnd" text="ðŸ•” ÐšÐ¾Ð½ÐµÑ†" prefWidth="100"/>
                            <TableColumn fx:id="colScheduleHours" text="â±ï¸ Ð§Ð°ÑÑ‹" prefWidth="80"/>
                            <TableColumn fx:id="colScheduleActions" text="âš™ï¸ Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ" prefWidth="150"/>
                        </columns>
                    </TableView>

                    <!-- ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð¾ 8-Ñ‡Ð°ÑÐ¾Ð²Ð¾Ð¼ Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ¼ Ð´Ð½Ðµ -->
                    <HBox spacing="10.0" style="-fx-padding: 10; -fx-background-color: #fff3cd; -fx-background-radius: 8; -fx-border-color: #ffeaa7; -fx-border-radius: 8;">
                        <Label text="ðŸ’¡" style="-fx-font-size: 16px;"/>
                        <VBox spacing="2">
                            <Label text="Ð’Ð°Ð¶Ð½Ð¾Ðµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ:" style="-fx-font-weight: bold; -fx-text-fill: #856404;"/>
                            <Label text="Ð Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ Ð´ÐµÐ½ÑŒ Ð²Ñ€Ð°Ñ‡Ð° Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐ°Ñ‚ÑŒ 8 Ñ‡Ð°ÑÐ¾Ð²" style="-fx-text-fill: #856404; -fx-font-size: 11px;"/>
                        </VBox>
                    </HBox>
                </VBox>
            </content>
        </Tab>

    </TabPane>

    <!-- ÐÐ¸Ð¶Ð½Ð¸Ð¹ ÐºÐ¾Ð»Ð¾Ð½Ñ‚Ð¸Ñ‚ÑƒÐ» -->
    <HBox spacing="10.0" alignment="CENTER_RIGHT" style="-fx-padding: 10 0 0 0;">
        <Label text="ðŸ’š SuperMed v1.0"
               style="-fx-text-fill: #95a5a6; -fx-font-size: 11px;"/>
        <Label fx:id="statusLabel"
               text="Ð“Ð¾Ñ‚Ð¾Ð² Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ"
               style="-fx-text-fill: #27ae60; -fx-font-size: 11px; -fx-font-weight: bold;"/>
    </HBox>

</VBox>